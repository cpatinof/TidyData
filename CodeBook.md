# CodeBook
Course project for Getting and Cleaning Data course

## Data Dictionary

The final data set includes a total of 68 columns:

### Subject

Integer variable that indicates the subject who performed the activity. Its value ranges from 1 to 30 since the experiment involved 30 volunteers.

### Activity.Desc

Factor variable that indicates the activity that was being performed when the measures where captured using the accelerometer and gyroscope. Factor levels are:

1. WALKING
2. WALKING_UPSTAIRS
3. WALKING_DOWNSTAIRS
4. SITTING
5. STANDING
6. LAYING

### Signal Measures (66 measures that meet the criteria)

A set of signals generated by applying filters and transformations to signals from accelerometer and gyroscopes in cell phones that volunteers where wearing on their waists (Samsung Galaxy S II).

The original features include means and standard deviations for the measurements of the following signals:

* tBodyAcc-XYZ
* tGravityAcc-XYZ
* tBodyAccJerk-XYZ
* tBodyGyro-XYZ
* tBodyGyroJerk-XYZ
* tBodyAccMag
* tGravityAccMag
* tBodyAccJerkMag
* tBodyGyroMag
* tBodyGyroJerkMag
* fBodyAcc-XYZ
* fBodyAccJerk-XYZ
* fBodyGyro-XYZ
* fBodyAccMag
* fBodyAccJerkMag
* fBodyGyroMag
* fBodyGyroJerkMag

XYZ is used to denote 3-axial signals in the X, Y, and Z directions. Prefix "t" denote time, and prefix "f" denote frequency domain signals.

Therefore, the final data frame contains the following 66 measures:

|          Mean of Feature        |   min    |    max    |
|:-------------------------------:|:--------:|:---------:|
|       **tBodyAcc-X-Mean**       |  0.2216  |  0.3015   |
|       **tBodyAcc-Y-Mean**       | -0.04051 | -0.001308 |
|       **tBodyAcc-Z-Mean**       | -0.1525  | -0.07538  |
|       **tBodyAcc-X-STD**        | -0.9961  |  0.6269   |
|       **tBodyAcc-Y-STD**        | -0.9902  |  0.6169   |
|       **tBodyAcc-Z-STD**        | -0.9877  |   0.609   |
|     **tGravityAcc-X-Mean**      |  -0.68   |  0.9745   |
|     **tGravityAcc-Y-Mean**      | -0.4799  |  0.9566   |
|     **tGravityAcc-Z-Mean**      | -0.4951  |  0.9579   |
|      **tGravityAcc-X-STD**      | -0.9968  |  -0.8296  |
|      **tGravityAcc-Y-STD**      | -0.9942  |  -0.6436  |
|      **tGravityAcc-Z-STD**      |  -0.991  |  -0.6102  |
|     **tBodyAccJerk-X-Mean**     | 0.04269  |  0.1302   |
|     **tBodyAccJerk-Y-Mean**     | -0.03869 |  0.05682  |
|     **tBodyAccJerk-Z-Mean**     | -0.06746 |  0.03805  |
|     **tBodyAccJerk-X-STD**      | -0.9946  |  0.5443   |
|     **tBodyAccJerk-Y-STD**      | -0.9895  |  0.3553   |
|     **tBodyAccJerk-Z-STD**      | -0.9933  |  0.03102  |
|      **tBodyGyro-X-Mean**       | -0.2058  |  0.1927   |
|      **tBodyGyro-Y-Mean**       | -0.2042  |  0.02747  |
|      **tBodyGyro-Z-Mean**       | -0.07245 |  0.1791   |
|       **tBodyGyro-X-STD**       | -0.9943  |  0.2677   |
|       **tBodyGyro-Y-STD**       | -0.9942  |  0.4765   |
|       **tBodyGyro-Z-STD**       | -0.9855  |  0.5649   |
|    **tBodyGyroJerk-X-Mean**     | -0.1572  | -0.02209  |
|    **tBodyGyroJerk-Y-Mean**     | -0.07681 |  -0.0132  |
|    **tBodyGyroJerk-Z-Mean**     | -0.0925  | -0.006941 |
|     **tBodyGyroJerk-X-STD**     | -0.9965  |  0.1791   |
|     **tBodyGyroJerk-Y-STD**     | -0.9971  |  0.2959   |
|     **tBodyGyroJerk-Z-STD**     | -0.9954  |  0.1932   |
|      **tBodyAccMag-Mean**       | -0.9865  |  0.6446   |
|       **tBodyAccMag-STD**       | -0.9865  |  0.4284   |
|     **tGravityAccMag-Mean**     | -0.9865  |  0.6446   |
|     **tGravityAccMag-STD**      | -0.9865  |  0.4284   |
|    **tBodyAccJerkMag-Mean**     | -0.9928  |  0.4345   |
|     **tBodyAccJerkMag-STD**     | -0.9946  |  0.4506   |
|      **tBodyGyroMag-Mean**      | -0.9807  |   0.418   |
|      **tBodyGyroMag-STD**       | -0.9814  |    0.3    |
|    **tBodyGyroJerkMag-Mean**    | -0.9973  |  0.08758  |
|    **tBodyGyroJerkMag-STD**     | -0.9977  |  0.2502   |
|       **fBodyAcc-X-Mean**       | -0.9952  |   0.537   |
|       **fBodyAcc-Y-Mean**       |  -0.989  |  0.5242   |
|       **fBodyAcc-Z-Mean**       | -0.9895  |  0.2807   |
|       **fBodyAcc-X-STD**        | -0.9966  |  0.6585   |
|       **fBodyAcc-Y-STD**        | -0.9907  |  0.5602   |
|       **fBodyAcc-Z-STD**        | -0.9872  |  0.6871   |
|     **fBodyAccJerk-X-Mean**     | -0.9946  |  0.4743   |
|     **fBodyAccJerk-Y-Mean**     | -0.9894  |  0.2767   |
|     **fBodyAccJerk-Z-Mean**     |  -0.992  |  0.1578   |
|     **fBodyAccJerk-X-STD**      | -0.9951  |  0.4768   |
|     **fBodyAccJerk-Y-STD**      | -0.9905  |  0.3498   |
|     **fBodyAccJerk-Z-STD**      | -0.9931  | -0.006236 |
|      **fBodyGyro-X-Mean**       | -0.9931  |   0.475   |
|      **fBodyGyro-Y-Mean**       |  -0.994  |  0.3288   |
|      **fBodyGyro-Z-Mean**       |  -0.986  |  0.4924   |
|       **fBodyGyro-X-STD**       | -0.9947  |  0.1966   |
|       **fBodyGyro-Y-STD**       | -0.9944  |  0.6462   |
|       **fBodyGyro-Z-STD**       | -0.9867  |  0.5225   |
|      **fBodyAccMag-Mean**       | -0.9868  |  0.5866   |
|       **fBodyAccMag-STD**       | -0.9876  |  0.1787   |
|  **fBodyBodyAccJerkMag-Mean**   |  -0.994  |  0.5384   |
|   **fBodyBodyAccJerkMag-STD**   | -0.9944  |  0.3163   |
|    **fBodyBodyGyroMag-Mean**    | -0.9865  |   0.204   |
|    **fBodyBodyGyroMag-STD**     | -0.9815  |  0.2367   |
|  **fBodyBodyGyroJerkMag-Mean**  | -0.9976  |  0.1466   |
|  **fBodyBodyGyroJerkMag-STD**   | -0.9976  |  0.2878   |

Note that all these measures are normalized to the range -1 to 1.

## Transformations

The tidy data set (`final.DF`) includes the average values of the previous signals for each Subject and Activity. Since there are 30 subjects and a total of 6 activities, the size of the final tidy data frame is 180 columns by 68 rows (two of those corresponding to the indicator variables "Subject" and "Activity"). The transformation is done by using the `reshape2` package and its functions `melt` and `dcast`. The `melt` function takes the original merged data frame whose observations correspond to measures of signals for combinations of subjects and activities at different windows of periods during the experiment, and columns correspond to the means and standard deviations of each one of the aforementioned signals, and generates a long file that in one column puts the value of each measure for each combination Subject-Activity-Window. After that file is created, the `dcast` function summarises the input file by applying a "mean" function on all variables using Subject + Activity as the grouping factors.

An alternative transformation could be performed by using the `group_b` and `summarise_each` functions in the `dplyr` package. The implementation is also shown in the code and both alternatives yield the exact same final data frame with the summary values for Subjects and Activities.

Original measures are normalized to be between -1 and 1. The average summary takes those normalized variables and calculates the averages of the measurements for each combination Subject-Activity-Window.